<?xml version="1.0" encoding="utf-8"?>
<!-- Converted by db4-upgrade version 1.0 -->

<section xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="zend.ldap.ldif"><info><title>Serializing LDAP data to and from LDIF</title></info>
    

    <section xml:id="zend.ldap.ldif.encode"><info><title>Serialize a LDAP entry to LDIF</title></info>
        

        <programlisting language="php">
$data = array(
    'dn'                         =&gt; 'uid=rogasawara,ou=営業部,o=Airius',
    'objectclass'                =&gt; array('top',
                                          'person',
                                          'organizationalPerson',
                                          'inetOrgPerson'),
    'uid'                        =&gt; array('rogasawara'),
    'mail'                       =&gt; array('rogasawara@airius.co.jp'),
    'givenname;lang-ja'          =&gt; array('ロドニー'),
    'sn;lang-ja'                 =&gt; array('小笠原'),
    'cn;lang-ja'                 =&gt; array('小笠原 ロドニー'),
    'title;lang-ja'              =&gt; array('営業部 部長'),
    'preferredlanguage'          =&gt; array('ja'),
    'givenname'                  =&gt; array('ロドニー'),
    'sn'                         =&gt; array('小笠原'),
    'cn'                         =&gt; array('小笠原 ロドニー'),
    'title'                      =&gt; array('営業部 部長'),
    'givenname;lang-ja;phonetic' =&gt; array('ろどにー'),
    'sn;lang-ja;phonetic'        =&gt; array('おがさわら'),
    'cn;lang-ja;phonetic'        =&gt; array('おがさわら ろどにー'),
    'title;lang-ja;phonetic'     =&gt; array('えいぎょうぶ ぶちょう'),
    'givenname;lang-en'          =&gt; array('Rodney'),
    'sn;lang-en'                 =&gt; array('Ogasawara'),
    'cn;lang-en'                 =&gt; array('Rodney Ogasawara'),
    'title;lang-en'              =&gt; array('Sales, Director'),
);
$ldif = Zend_Ldap_Ldif_Encoder::encode($data, array('sort' =&gt; false,
                                                    'version' =&gt; null));
/*
$ldif contains:
dn:: dWlkPXJvZ2FzYXdhcmEsb3U95Za25qWt6YOoLG89QWlyaXVz
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: rogasawara
mail: rogasawara@airius.co.jp
givenname;lang-ja:: 44Ot44OJ44OL44O8
sn;lang-ja:: 5bCP56yg5Y6f
cn;lang-ja:: 5bCP56yg5Y6fIOODreODieODi+ODvA==
title;lang-ja:: 5Za25qWt6YOoIOmDqOmVtw==
preferredlanguage: ja
givenname:: 44Ot44OJ44OL44O8
sn:: 5bCP56yg5Y6f
cn:: 5bCP56yg5Y6fIOODreODieODi+ODvA==
title:: 5Za25qWt6YOoIOmDqOmVtw==
givenname;lang-ja;phonetic:: 44KN44Gp44Gr44O8
sn;lang-ja;phonetic:: 44GK44GM44GV44KP44KJ
cn;lang-ja;phonetic:: 44GK44GM44GV44KP44KJIOOCjeOBqeOBq+ODvA==
title;lang-ja;phonetic:: 44GI44GE44GO44KH44GG44G2IOOBtuOBoeOCh+OBhg==
givenname;lang-en: Rodney
sn;lang-en: Ogasawara
cn;lang-en: Rodney Ogasawara
title;lang-en: Sales, Director
*/
</programlisting>
    </section>

    <section xml:id="zend.ldap.ldif.decode"><info><title>Deserialize a LDIF string into a LDAP entry</title></info>
        

        <programlisting language="php">
$ldif = "dn:: dWlkPXJvZ2FzYXdhcmEsb3U95Za25qWt6YOoLG89QWlyaXVz
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: rogasawara
mail: rogasawara@airius.co.jp
givenname;lang-ja:: 44Ot44OJ44OL44O8
sn;lang-ja:: 5bCP56yg5Y6f
cn;lang-ja:: 5bCP56yg5Y6fIOODreODieODi+ODvA==
title;lang-ja:: 5Za25qWt6YOoIOmDqOmVtw==
preferredlanguage: ja
givenname:: 44Ot44OJ44OL44O8
sn:: 5bCP56yg5Y6f
cn:: 5bCP56yg5Y6fIOODreODieODi+ODvA==
title:: 5Za25qWt6YOoIOmDqOmVtw==
givenname;lang-ja;phonetic:: 44KN44Gp44Gr44O8
sn;lang-ja;phonetic:: 44GK44GM44GV44KP44KJ
cn;lang-ja;phonetic:: 44GK44GM44GV44KP44KJIOOCjeOBqeOBq+ODvA==
title;lang-ja;phonetic:: 44GI44GE44GO44KH44GG44G2IOOBtuOBoeOCh+OBhg==
givenname;lang-en: Rodney
sn;lang-en: Ogasawara
cn;lang-en: Rodney Ogasawara
title;lang-en: Sales, Director";
$data = Zend_Ldap_Ldif_Encoder::decode($ldif);
/*
$data = array(
    'dn'                         =&gt; 'uid=rogasawara,ou=営業部,o=Airius',
    'objectclass'                =&gt; array('top',
                                          'person',
                                          'organizationalPerson',
                                          'inetOrgPerson'),
    'uid'                        =&gt; array('rogasawara'),
    'mail'                       =&gt; array('rogasawara@airius.co.jp'),
    'givenname;lang-ja'          =&gt; array('ロドニー'),
    'sn;lang-ja'                 =&gt; array('小笠原'),
    'cn;lang-ja'                 =&gt; array('小笠原 ロドニー'),
    'title;lang-ja'              =&gt; array('営業部 部長'),
    'preferredlanguage'          =&gt; array('ja'),
    'givenname'                  =&gt; array('ロドニー'),
    'sn'                         =&gt; array('小笠原'),
    'cn'                         =&gt; array('小笠原 ロドニー'),
    'title'                      =&gt; array('営業部 部長'),
    'givenname;lang-ja;phonetic' =&gt; array('ろどにー'),
    'sn;lang-ja;phonetic'        =&gt; array('おがさわら'),
    'cn;lang-ja;phonetic'        =&gt; array('おがさわら ろどにー'),
    'title;lang-ja;phonetic'     =&gt; array('えいぎょうぶ ぶちょう'),
    'givenname;lang-en'          =&gt; array('Rodney'),
    'sn;lang-en'                 =&gt; array('Ogasawara'),
    'cn;lang-en'                 =&gt; array('Rodney Ogasawara'),
    'title;lang-en'              =&gt; array('Sales, Director'),
);
*/
</programlisting>
    </section>
</section>
